.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

glabel func_802404D0
/* 916240 802404D0 27BDFFB8 */  addiu     $sp, $sp, -0x48
/* 916244 802404D4 AFB3003C */  sw        $s3, 0x3c($sp)
/* 916248 802404D8 0080982D */  daddu     $s3, $a0, $zero
/* 91624C 802404DC AFBF0040 */  sw        $ra, 0x40($sp)
/* 916250 802404E0 AFB20038 */  sw        $s2, 0x38($sp)
/* 916254 802404E4 AFB10034 */  sw        $s1, 0x34($sp)
/* 916258 802404E8 AFB00030 */  sw        $s0, 0x30($sp)
/* 91625C 802404EC 8E700148 */  lw        $s0, 0x148($s3)
/* 916260 802404F0 00A0902D */  daddu     $s2, $a1, $zero
/* 916264 802404F4 86040008 */  lh        $a0, 8($s0)
/* 916268 802404F8 0C00EABB */  jal       get_npc_unsafe
/* 91626C 802404FC 00C0882D */   daddu    $s1, $a2, $zero
/* 916270 80240500 0220202D */  daddu     $a0, $s1, $zero
/* 916274 80240504 0200282D */  daddu     $a1, $s0, $zero
/* 916278 80240508 AFA00010 */  sw        $zero, 0x10($sp)
/* 91627C 8024050C 8E460024 */  lw        $a2, 0x24($s2)
/* 916280 80240510 8E470028 */  lw        $a3, 0x28($s2)
/* 916284 80240514 0C01242D */  jal       func_800490B4
/* 916288 80240518 0040802D */   daddu    $s0, $v0, $zero
/* 91628C 8024051C 1040000B */  beqz      $v0, .L8024054C
/* 916290 80240520 00000000 */   nop      
/* 916294 80240524 3C02800F */  lui       $v0, %hi(gPlayerStatusPtr)
/* 916298 80240528 8C427B30 */  lw        $v0, %lo(gPlayerStatusPtr)($v0)
/* 91629C 8024052C C60C0038 */  lwc1      $f12, 0x38($s0)
/* 9162A0 80240530 C60E0040 */  lwc1      $f14, 0x40($s0)
/* 9162A4 80240534 8C460028 */  lw        $a2, 0x28($v0)
/* 9162A8 80240538 0C00A720 */  jal       atan2
/* 9162AC 8024053C 8C470030 */   lw       $a3, 0x30($v0)
/* 9162B0 80240540 2402000C */  addiu     $v0, $zero, 0xc
/* 9162B4 80240544 08090189 */  j         .L80240624
/* 9162B8 80240548 E600000C */   swc1     $f0, 0xc($s0)
.L8024054C:
/* 9162BC 8024054C 9602008E */  lhu       $v0, 0x8e($s0)
/* 9162C0 80240550 2442FFFF */  addiu     $v0, $v0, -1
/* 9162C4 80240554 A602008E */  sh        $v0, 0x8e($s0)
/* 9162C8 80240558 00021400 */  sll       $v0, $v0, 0x10
/* 9162CC 8024055C 1C400032 */  bgtz      $v0, .L80240628
/* 9162D0 80240560 00000000 */   nop      
/* 9162D4 80240564 8E620074 */  lw        $v0, 0x74($s3)
/* 9162D8 80240568 2442FFFF */  addiu     $v0, $v0, -1
/* 9162DC 8024056C 18400014 */  blez      $v0, .L802405C0
/* 9162E0 80240570 AE620074 */   sw       $v0, 0x74($s3)
/* 9162E4 80240574 C600000C */  lwc1      $f0, 0xc($s0)
/* 9162E8 80240578 3C014334 */  lui       $at, 0x4334
/* 9162EC 8024057C 44816000 */  mtc1      $at, $f12
/* 9162F0 80240580 0C00A6C9 */  jal       clamp_angle
/* 9162F4 80240584 460C0300 */   add.s    $f12, $f0, $f12
/* 9162F8 80240588 E600000C */  swc1      $f0, 0xc($s0)
/* 9162FC 8024058C 8E440008 */  lw        $a0, 8($s2)
/* 916300 80240590 000417C2 */  srl       $v0, $a0, 0x1f
/* 916304 80240594 00822021 */  addu      $a0, $a0, $v0
/* 916308 80240598 00042043 */  sra       $a0, $a0, 1
/* 91630C 8024059C 0C00A67F */  jal       rand_int
/* 916310 802405A0 24840001 */   addiu    $a0, $a0, 1
/* 916314 802405A4 8E430008 */  lw        $v1, 8($s2)
/* 916318 802405A8 000327C2 */  srl       $a0, $v1, 0x1f
/* 91631C 802405AC 00641821 */  addu      $v1, $v1, $a0
/* 916320 802405B0 00031843 */  sra       $v1, $v1, 1
/* 916324 802405B4 00621821 */  addu      $v1, $v1, $v0
/* 916328 802405B8 0809018A */  j         .L80240628
/* 91632C 802405BC A603008E */   sh       $v1, 0x8e($s0)
.L802405C0:
/* 916330 802405C0 24040002 */  addiu     $a0, $zero, 2
/* 916334 802405C4 0200282D */  daddu     $a1, $s0, $zero
/* 916338 802405C8 0000302D */  daddu     $a2, $zero, $zero
/* 91633C 802405CC 860300A8 */  lh        $v1, 0xa8($s0)
/* 916340 802405D0 3C013F80 */  lui       $at, 0x3f80
/* 916344 802405D4 44810000 */  mtc1      $at, $f0
/* 916348 802405D8 3C014000 */  lui       $at, 0x4000
/* 91634C 802405DC 44811000 */  mtc1      $at, $f2
/* 916350 802405E0 3C01C1A0 */  lui       $at, 0xc1a0
/* 916354 802405E4 44812000 */  mtc1      $at, $f4
/* 916358 802405E8 2402000C */  addiu     $v0, $zero, 0xc
/* 91635C 802405EC AFA2001C */  sw        $v0, 0x1c($sp)
/* 916360 802405F0 44833000 */  mtc1      $v1, $f6
/* 916364 802405F4 00000000 */  nop       
/* 916368 802405F8 468031A0 */  cvt.s.w   $f6, $f6
/* 91636C 802405FC 44073000 */  mfc1      $a3, $f6
/* 916370 80240600 27A20028 */  addiu     $v0, $sp, 0x28
/* 916374 80240604 AFA20020 */  sw        $v0, 0x20($sp)
/* 916378 80240608 E7A00010 */  swc1      $f0, 0x10($sp)
/* 91637C 8024060C E7A20014 */  swc1      $f2, 0x14($sp)
/* 916380 80240610 0C01BFA4 */  jal       fx_emote
/* 916384 80240614 E7A40018 */   swc1     $f4, 0x18($sp)
/* 916388 80240618 2402000F */  addiu     $v0, $zero, 0xf
/* 91638C 8024061C A602008E */  sh        $v0, 0x8e($s0)
/* 916390 80240620 24020028 */  addiu     $v0, $zero, 0x28
.L80240624:
/* 916394 80240624 AE620070 */  sw        $v0, 0x70($s3)
.L80240628:
/* 916398 80240628 8FBF0040 */  lw        $ra, 0x40($sp)
/* 91639C 8024062C 8FB3003C */  lw        $s3, 0x3c($sp)
/* 9163A0 80240630 8FB20038 */  lw        $s2, 0x38($sp)
/* 9163A4 80240634 8FB10034 */  lw        $s1, 0x34($sp)
/* 9163A8 80240638 8FB00030 */  lw        $s0, 0x30($sp)
/* 9163AC 8024063C 03E00008 */  jr        $ra
/* 9163B0 80240640 27BD0048 */   addiu    $sp, $sp, 0x48

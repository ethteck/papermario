.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

glabel func_80240E58
/* 8CEEC8 80240E58 27BDFFB0 */  addiu     $sp, $sp, -0x50
/* 8CEECC 80240E5C AFB20030 */  sw        $s2, 0x30($sp)
/* 8CEED0 80240E60 0080902D */  daddu     $s2, $a0, $zero
/* 8CEED4 80240E64 AFBF0038 */  sw        $ra, 0x38($sp)
/* 8CEED8 80240E68 AFB30034 */  sw        $s3, 0x34($sp)
/* 8CEEDC 80240E6C AFB1002C */  sw        $s1, 0x2c($sp)
/* 8CEEE0 80240E70 AFB00028 */  sw        $s0, 0x28($sp)
/* 8CEEE4 80240E74 F7B60048 */  sdc1      $f22, 0x48($sp)
/* 8CEEE8 80240E78 F7B40040 */  sdc1      $f20, 0x40($sp)
/* 8CEEEC 80240E7C 8E510148 */  lw        $s1, 0x148($s2)
/* 8CEEF0 80240E80 86240008 */  lh        $a0, 8($s1)
/* 8CEEF4 80240E84 0C00EABB */  jal       get_npc_unsafe
/* 8CEEF8 80240E88 00A0982D */   daddu    $s3, $a1, $zero
/* 8CEEFC 80240E8C 0040802D */  daddu     $s0, $v0, $zero
/* 8CEF00 80240E90 0200202D */  daddu     $a0, $s0, $zero
/* 8CEF04 80240E94 C6220088 */  lwc1      $f2, 0x88($s1)
/* 8CEF08 80240E98 468010A0 */  cvt.s.w   $f2, $f2
/* 8CEF0C 80240E9C 460010A1 */  cvt.d.s   $f2, $f2
/* 8CEF10 80240EA0 C604001C */  lwc1      $f4, 0x1c($s0)
/* 8CEF14 80240EA4 C6000014 */  lwc1      $f0, 0x14($s0)
/* 8CEF18 80240EA8 8E050018 */  lw        $a1, 0x18($s0)
/* 8CEF1C 80240EAC 46002100 */  add.s     $f4, $f4, $f0
/* 8CEF20 80240EB0 8E06000C */  lw        $a2, 0xc($s0)
/* 8CEF24 80240EB4 C6200078 */  lwc1      $f0, 0x78($s1)
/* 8CEF28 80240EB8 46800020 */  cvt.s.w   $f0, $f0
/* 8CEF2C 80240EBC E604001C */  swc1      $f4, 0x1c($s0)
/* 8CEF30 80240EC0 3C014059 */  lui       $at, 0x4059
/* 8CEF34 80240EC4 44812800 */  mtc1      $at, $f5
/* 8CEF38 80240EC8 44802000 */  mtc1      $zero, $f4
/* 8CEF3C 80240ECC 46000021 */  cvt.d.s   $f0, $f0
/* 8CEF40 80240ED0 46240003 */  div.d     $f0, $f0, $f4
/* 8CEF44 80240ED4 46200520 */  cvt.s.d   $f20, $f0
/* 8CEF48 80240ED8 46241083 */  div.d     $f2, $f2, $f4
/* 8CEF4C 80240EDC 0C00EA95 */  jal       npc_move_heading
/* 8CEF50 80240EE0 462015A0 */   cvt.s.d  $f22, $f2
/* 8CEF54 80240EE4 C604001C */  lwc1      $f4, 0x1c($s0)
/* 8CEF58 80240EE8 44801000 */  mtc1      $zero, $f2
/* 8CEF5C 80240EEC 44801800 */  mtc1      $zero, $f3
/* 8CEF60 80240EF0 46002021 */  cvt.d.s   $f0, $f4
/* 8CEF64 80240EF4 4620103E */  c.le.d    $f2, $f0
/* 8CEF68 80240EF8 00000000 */  nop       
/* 8CEF6C 80240EFC 45000030 */  bc1f      .L80240FC0
/* 8CEF70 80240F00 00000000 */   nop      
/* 8CEF74 80240F04 C600003C */  lwc1      $f0, 0x3c($s0)
/* 8CEF78 80240F08 46040000 */  add.s     $f0, $f0, $f4
/* 8CEF7C 80240F0C E600003C */  swc1      $f0, 0x3c($s0)
/* 8CEF80 80240F10 8E2200CC */  lw        $v0, 0xcc($s1)
/* 8CEF84 80240F14 8C420024 */  lw        $v0, 0x24($v0)
/* 8CEF88 80240F18 AE020028 */  sw        $v0, 0x28($s0)
/* 8CEF8C 80240F1C A2200007 */  sb        $zero, 7($s1)
/* 8CEF90 80240F20 8E020000 */  lw        $v0, ($s0)
/* 8CEF94 80240F24 30420008 */  andi      $v0, $v0, 8
/* 8CEF98 80240F28 14400011 */  bnez      $v0, .L80240F70
/* 8CEF9C 80240F2C 0000102D */   daddu    $v0, $zero, $zero
/* 8CEFA0 80240F30 27A50018 */  addiu     $a1, $sp, 0x18
/* 8CEFA4 80240F34 27A6001C */  addiu     $a2, $sp, 0x1c
/* 8CEFA8 80240F38 C6000038 */  lwc1      $f0, 0x38($s0)
/* 8CEFAC 80240F3C C602003C */  lwc1      $f2, 0x3c($s0)
/* 8CEFB0 80240F40 C6040040 */  lwc1      $f4, 0x40($s0)
/* 8CEFB4 80240F44 3C01447A */  lui       $at, 0x447a
/* 8CEFB8 80240F48 44813000 */  mtc1      $at, $f6
/* 8CEFBC 80240F4C 27A20024 */  addiu     $v0, $sp, 0x24
/* 8CEFC0 80240F50 E7A00018 */  swc1      $f0, 0x18($sp)
/* 8CEFC4 80240F54 E7A2001C */  swc1      $f2, 0x1c($sp)
/* 8CEFC8 80240F58 E7A40020 */  swc1      $f4, 0x20($sp)
/* 8CEFCC 80240F5C E7A60024 */  swc1      $f6, 0x24($sp)
/* 8CEFD0 80240F60 AFA20010 */  sw        $v0, 0x10($sp)
/* 8CEFD4 80240F64 8E040080 */  lw        $a0, 0x80($s0)
/* 8CEFD8 80240F68 0C0372DF */  jal       func_800DCB7C
/* 8CEFDC 80240F6C 27A70020 */   addiu    $a3, $sp, 0x20
.L80240F70:
/* 8CEFE0 80240F70 1040000B */  beqz      $v0, .L80240FA0
/* 8CEFE4 80240F74 00000000 */   nop      
/* 8CEFE8 80240F78 C7A0001C */  lwc1      $f0, 0x1c($sp)
/* 8CEFEC 80240F7C 46140080 */  add.s     $f2, $f0, $f20
/* 8CEFF0 80240F80 C600003C */  lwc1      $f0, 0x3c($s0)
/* 8CEFF4 80240F84 4600103E */  c.le.s    $f2, $f0
/* 8CEFF8 80240F88 00000000 */  nop       
/* 8CEFFC 80240F8C 4500008D */  bc1f      .L802411C4
/* 8CF000 80240F90 00000000 */   nop      
/* 8CF004 80240F94 E602003C */  swc1      $f2, 0x3c($s0)
/* 8CF008 80240F98 08090471 */  j         .L802411C4
/* 8CF00C 80240F9C AE400070 */   sw       $zero, 0x70($s2)
.L80240FA0:
/* 8CF010 80240FA0 C602003C */  lwc1      $f2, 0x3c($s0)
/* 8CF014 80240FA4 C6000064 */  lwc1      $f0, 0x64($s0)
/* 8CF018 80240FA8 4602003E */  c.le.s    $f0, $f2
/* 8CF01C 80240FAC 00000000 */  nop       
/* 8CF020 80240FB0 45030084 */  bc1tl     .L802411C4
/* 8CF024 80240FB4 AE400070 */   sw       $zero, 0x70($s2)
/* 8CF028 80240FB8 08090471 */  j         .L802411C4
/* 8CF02C 80240FBC 00000000 */   nop      
.L80240FC0:
/* 8CF030 80240FC0 4622003C */  c.lt.d    $f0, $f2
/* 8CF034 80240FC4 00000000 */  nop       
/* 8CF038 80240FC8 4500007E */  bc1f      .L802411C4
/* 8CF03C 80240FCC 00000000 */   nop      
/* 8CF040 80240FD0 9602008E */  lhu       $v0, 0x8e($s0)
/* 8CF044 80240FD4 24420001 */  addiu     $v0, $v0, 1
/* 8CF048 80240FD8 A602008E */  sh        $v0, 0x8e($s0)
/* 8CF04C 80240FDC 00021400 */  sll       $v0, $v0, 0x10
/* 8CF050 80240FE0 8E630020 */  lw        $v1, 0x20($s3)
/* 8CF054 80240FE4 00021403 */  sra       $v0, $v0, 0x10
/* 8CF058 80240FE8 0043102A */  slt       $v0, $v0, $v1
/* 8CF05C 80240FEC 14400026 */  bnez      $v0, .L80241088
/* 8CF060 80240FF0 00000000 */   nop      
/* 8CF064 80240FF4 C60C0038 */  lwc1      $f12, 0x38($s0)
/* 8CF068 80240FF8 C60E0040 */  lwc1      $f14, 0x40($s0)
/* 8CF06C 80240FFC 3C02800F */  lui       $v0, %hi(gPlayerStatusPtr)
/* 8CF070 80241000 8C427B30 */  lw        $v0, %lo(gPlayerStatusPtr)($v0)
/* 8CF074 80241004 A600008E */  sh        $zero, 0x8e($s0)
/* 8CF078 80241008 8C460028 */  lw        $a2, 0x28($v0)
/* 8CF07C 8024100C 0C00A720 */  jal       atan2
/* 8CF080 80241010 8C470030 */   lw       $a3, 0x30($v0)
/* 8CF084 80241014 46000506 */  mov.s     $f20, $f0
/* 8CF088 80241018 C60C000C */  lwc1      $f12, 0xc($s0)
/* 8CF08C 8024101C 0C00A70A */  jal       get_clamped_angle_diff
/* 8CF090 80241020 4600A386 */   mov.s    $f14, $f20
/* 8CF094 80241024 46000086 */  mov.s     $f2, $f0
/* 8CF098 80241028 8E62001C */  lw        $v0, 0x1c($s3)
/* 8CF09C 8024102C 46001005 */  abs.s     $f0, $f2
/* 8CF0A0 80241030 44822000 */  mtc1      $v0, $f4
/* 8CF0A4 80241034 00000000 */  nop       
/* 8CF0A8 80241038 46802120 */  cvt.s.w   $f4, $f4
/* 8CF0AC 8024103C 4600203C */  c.lt.s    $f4, $f0
/* 8CF0B0 80241040 00000000 */  nop       
/* 8CF0B4 80241044 4500000D */  bc1f      .L8024107C
/* 8CF0B8 80241048 00000000 */   nop      
/* 8CF0BC 8024104C 44800000 */  mtc1      $zero, $f0
/* 8CF0C0 80241050 C614000C */  lwc1      $f20, 0xc($s0)
/* 8CF0C4 80241054 4600103C */  c.lt.s    $f2, $f0
/* 8CF0C8 80241058 00000000 */  nop       
/* 8CF0CC 8024105C 45000006 */  bc1f      .L80241078
/* 8CF0D0 80241060 00021023 */   negu     $v0, $v0
/* 8CF0D4 80241064 44820000 */  mtc1      $v0, $f0
/* 8CF0D8 80241068 00000000 */  nop       
/* 8CF0DC 8024106C 46800020 */  cvt.s.w   $f0, $f0
/* 8CF0E0 80241070 0809041F */  j         .L8024107C
/* 8CF0E4 80241074 4600A500 */   add.s    $f20, $f20, $f0
.L80241078:
/* 8CF0E8 80241078 4604A500 */  add.s     $f20, $f20, $f4
.L8024107C:
/* 8CF0EC 8024107C 0C00A6C9 */  jal       clamp_angle
/* 8CF0F0 80241080 4600A306 */   mov.s    $f12, $f20
/* 8CF0F4 80241084 E600000C */  swc1      $f0, 0xc($s0)
.L80241088:
/* 8CF0F8 80241088 8E020000 */  lw        $v0, ($s0)
/* 8CF0FC 8024108C 30420008 */  andi      $v0, $v0, 8
/* 8CF100 80241090 1040000A */  beqz      $v0, .L802410BC
/* 8CF104 80241094 27A50018 */   addiu    $a1, $sp, 0x18
/* 8CF108 80241098 C602003C */  lwc1      $f2, 0x3c($s0)
/* 8CF10C 8024109C C600001C */  lwc1      $f0, 0x1c($s0)
/* 8CF110 802410A0 46001080 */  add.s     $f2, $f2, $f0
/* 8CF114 802410A4 4616103C */  c.lt.s    $f2, $f22
/* 8CF118 802410A8 00000000 */  nop       
/* 8CF11C 802410AC 45020045 */  bc1fl     .L802411C4
/* 8CF120 802410B0 E602003C */   swc1     $f2, 0x3c($s0)
/* 8CF124 802410B4 08090470 */  j         .L802411C0
/* 8CF128 802410B8 E616003C */   swc1     $f22, 0x3c($s0)
.L802410BC:
/* 8CF12C 802410BC C6000038 */  lwc1      $f0, 0x38($s0)
/* 8CF130 802410C0 27A6001C */  addiu     $a2, $sp, 0x1c
/* 8CF134 802410C4 E7A00018 */  swc1      $f0, 0x18($sp)
/* 8CF138 802410C8 860200A8 */  lh        $v0, 0xa8($s0)
/* 8CF13C 802410CC C600001C */  lwc1      $f0, 0x1c($s0)
/* 8CF140 802410D0 C604003C */  lwc1      $f4, 0x3c($s0)
/* 8CF144 802410D4 44821000 */  mtc1      $v0, $f2
/* 8CF148 802410D8 00000000 */  nop       
/* 8CF14C 802410DC 468010A0 */  cvt.s.w   $f2, $f2
/* 8CF150 802410E0 46000005 */  abs.s     $f0, $f0
/* 8CF154 802410E4 46020000 */  add.s     $f0, $f0, $f2
/* 8CF158 802410E8 C6060040 */  lwc1      $f6, 0x40($s0)
/* 8CF15C 802410EC 27A20024 */  addiu     $v0, $sp, 0x24
/* 8CF160 802410F0 46022100 */  add.s     $f4, $f4, $f2
/* 8CF164 802410F4 3C014024 */  lui       $at, 0x4024
/* 8CF168 802410F8 44811800 */  mtc1      $at, $f3
/* 8CF16C 802410FC 44801000 */  mtc1      $zero, $f2
/* 8CF170 80241100 46000021 */  cvt.d.s   $f0, $f0
/* 8CF174 80241104 46220000 */  add.d     $f0, $f0, $f2
/* 8CF178 80241108 E7A60020 */  swc1      $f6, 0x20($sp)
/* 8CF17C 8024110C E7A4001C */  swc1      $f4, 0x1c($sp)
/* 8CF180 80241110 46200020 */  cvt.s.d   $f0, $f0
/* 8CF184 80241114 E7A00024 */  swc1      $f0, 0x24($sp)
/* 8CF188 80241118 AFA20010 */  sw        $v0, 0x10($sp)
/* 8CF18C 8024111C 8E040080 */  lw        $a0, 0x80($s0)
/* 8CF190 80241120 0C0372DF */  jal       func_800DCB7C
/* 8CF194 80241124 27A70020 */   addiu    $a3, $sp, 0x20
/* 8CF198 80241128 10400015 */  beqz      $v0, .L80241180
/* 8CF19C 8024112C 00000000 */   nop      
/* 8CF1A0 80241130 860200A8 */  lh        $v0, 0xa8($s0)
/* 8CF1A4 80241134 C604001C */  lwc1      $f4, 0x1c($s0)
/* 8CF1A8 80241138 44820000 */  mtc1      $v0, $f0
/* 8CF1AC 8024113C 00000000 */  nop       
/* 8CF1B0 80241140 46800020 */  cvt.s.w   $f0, $f0
/* 8CF1B4 80241144 46002085 */  abs.s     $f2, $f4
/* 8CF1B8 80241148 46020000 */  add.s     $f0, $f0, $f2
/* 8CF1BC 8024114C C7A20024 */  lwc1      $f2, 0x24($sp)
/* 8CF1C0 80241150 4600103E */  c.le.s    $f2, $f0
/* 8CF1C4 80241154 00000000 */  nop       
/* 8CF1C8 80241158 45000005 */  bc1f      .L80241170
/* 8CF1CC 8024115C 00000000 */   nop      
/* 8CF1D0 80241160 C7A0001C */  lwc1      $f0, 0x1c($sp)
/* 8CF1D4 80241164 AE00001C */  sw        $zero, 0x1c($s0)
/* 8CF1D8 80241168 08090471 */  j         .L802411C4
/* 8CF1DC 8024116C E600003C */   swc1     $f0, 0x3c($s0)
.L80241170:
/* 8CF1E0 80241170 C600003C */  lwc1      $f0, 0x3c($s0)
/* 8CF1E4 80241174 46040000 */  add.s     $f0, $f0, $f4
/* 8CF1E8 80241178 08090471 */  j         .L802411C4
/* 8CF1EC 8024117C E600003C */   swc1     $f0, 0x3c($s0)
.L80241180:
/* 8CF1F0 80241180 C606003C */  lwc1      $f6, 0x3c($s0)
/* 8CF1F4 80241184 860200A8 */  lh        $v0, 0xa8($s0)
/* 8CF1F8 80241188 46163081 */  sub.s     $f2, $f6, $f22
/* 8CF1FC 8024118C 44820000 */  mtc1      $v0, $f0
/* 8CF200 80241190 00000000 */  nop       
/* 8CF204 80241194 46800020 */  cvt.s.w   $f0, $f0
/* 8CF208 80241198 46001080 */  add.s     $f2, $f2, $f0
/* 8CF20C 8024119C C604001C */  lwc1      $f4, 0x1c($s0)
/* 8CF210 802411A0 46002005 */  abs.s     $f0, $f4
/* 8CF214 802411A4 4602003C */  c.lt.s    $f0, $f2
/* 8CF218 802411A8 00000000 */  nop       
/* 8CF21C 802411AC 45020005 */  bc1fl     .L802411C4
/* 8CF220 802411B0 AE00001C */   sw       $zero, 0x1c($s0)
/* 8CF224 802411B4 46043000 */  add.s     $f0, $f6, $f4
/* 8CF228 802411B8 08090471 */  j         .L802411C4
/* 8CF22C 802411BC E600003C */   swc1     $f0, 0x3c($s0)
.L802411C0:
/* 8CF230 802411C0 AE00001C */  sw        $zero, 0x1c($s0)
.L802411C4:
/* 8CF234 802411C4 8FBF0038 */  lw        $ra, 0x38($sp)
/* 8CF238 802411C8 8FB30034 */  lw        $s3, 0x34($sp)
/* 8CF23C 802411CC 8FB20030 */  lw        $s2, 0x30($sp)
/* 8CF240 802411D0 8FB1002C */  lw        $s1, 0x2c($sp)
/* 8CF244 802411D4 8FB00028 */  lw        $s0, 0x28($sp)
/* 8CF248 802411D8 D7B60048 */  ldc1      $f22, 0x48($sp)
/* 8CF24C 802411DC D7B40040 */  ldc1      $f20, 0x40($sp)
/* 8CF250 802411E0 03E00008 */  jr        $ra
/* 8CF254 802411E4 27BD0050 */   addiu    $sp, $sp, 0x50
